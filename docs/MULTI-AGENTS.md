# SystÃ¨me Multi-Agents CultureMaster

## Vue d'ensemble

Ce systÃ¨me utilise **Claude Code** (qui s'exÃ©cute sur ton ordinateur) pour orchestrer plusieurs agents spÃ©cialisÃ©s dans la crÃ©ation de contenu pÃ©dagogique de haute qualitÃ©.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TON ORDINATEUR                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                       CLAUDE CODE                             â”‚â”‚
â”‚  â”‚                                                               â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚â”‚
â”‚  â”‚   â”‚Chercheurâ”‚â†’ â”‚ Images  â”‚â†’ â”‚Diagrammeâ”‚â†’ â”‚ Fiche   â”‚â†’ QCM   â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚â”‚
â”‚  â”‚        â”‚            â”‚            â”‚            â”‚              â”‚â”‚
â”‚  â”‚        â–¼            â–¼            â–¼            â–¼              â”‚â”‚
â”‚  â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚â”‚
â”‚  â”‚   â”‚              workspace/ (fichiers locaux)             â”‚  â”‚â”‚
â”‚  â”‚   â”‚   research/  images/  visuals/  drafts/  output/     â”‚  â”‚â”‚
â”‚  â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚â”‚
â”‚  â”‚                                                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                              â”‚                                    â”‚
â”‚                              â–¼                                    â”‚
â”‚                    ğŸ“± Import dans l'app                          â”‚
â”‚                       CultureMaster                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Pourquoi ce systÃ¨me ?

### ProblÃ¨me avec la gÃ©nÃ©ration simple
- Un seul appel API = contenu superficiel
- Pas d'images ou images cassÃ©es
- Pas de diagrammes interactifs
- Pas de vÃ©rification des sources

### Solution multi-agents
| Agent | RÃ´le | Super-pouvoir |
|-------|------|---------------|
| ğŸ” Chercheur | Recherche web approfondie | Croise plusieurs sources |
| ğŸ–¼ï¸ Curateur Images | Trouve et vÃ©rifie les images | `curl` pour tester les URLs |
| ğŸ“Š Diagrammeur | CrÃ©e timelines, schÃ©mas | Visualisations structurÃ©es |
| ğŸ“ RÃ©dacteur | Assemble la fiche | Contenu pÃ©dagogique engageant |
| â“ GÃ©nÃ©rateur QCM | CrÃ©e les questions | Distracteurs plausibles |

## Utilisation

### PrÃ©requis
- Claude Code installÃ© sur ton ordinateur
- Le projet CultureMaster clonÃ©

### Option 1 : Pipeline complet (recommandÃ©)

```bash
# Dans Claude Code, tape simplement :
/generate La guerre de Cent Ans
```

Cela exÃ©cute automatiquement tous les agents en sÃ©quence (~2-4 minutes).

### Option 2 : Agent par agent

```bash
# Ã‰tape 1 : Recherche
/research La guerre de Cent Ans

# Ã‰tape 2 : Images (aprÃ¨s validation de la recherche)
/images

# Ã‰tape 3 : Diagrammes
/diagram

# Ã‰tape 4 : Fiche
/fiche

# Ã‰tape 5 : QCM
/qcm

# Ã‰tape 6 : Assemblage
/finalize
```

Avantage : Tu peux vÃ©rifier/modifier chaque Ã©tape.

### Option 3 : Depuis un fichier source

```bash
# CrÃ©e un fichier avec ton sujet dÃ©taillÃ©
echo "La Renaissance italienne\nFocus sur: Florence, Michel-Ange, LÃ©onard" > workspace/source/renaissance.md

# Lance le pipeline
/generate workspace/source/renaissance.md
```

## Structure des fichiers

```
workspace/
â”œâ”€â”€ source/              # ğŸ“¥ Tes sujets Ã  traiter
â”‚   â””â”€â”€ mon-sujet.md
â”œâ”€â”€ research/            # ğŸ” Output du Chercheur
â”‚   â””â”€â”€ mon-sujet-research-20241214.json
â”œâ”€â”€ images/              # ğŸ–¼ï¸ Output du Curateur
â”‚   â””â”€â”€ mon-sujet-images-20241214.json
â”œâ”€â”€ visuals/             # ğŸ“Š Output du Diagrammeur
â”‚   â””â”€â”€ mon-sujet-visuals-20241214.json
â”œâ”€â”€ drafts/              # ğŸ“ Brouillons
â”‚   â”œâ”€â”€ mon-sujet-fiche-20241214.json
â”‚   â””â”€â”€ mon-sujet-qcm-20241214.json
â””â”€â”€ output/              # ğŸ“¤ Fichiers finaux
    â””â”€â”€ mon-sujet-final-20241214.json
```

## Importer dans CultureMaster

### MÃ©thode 1 : Via l'interface
1. Ouvre l'app CultureMaster
2. Va dans **ParamÃ¨tres** > **Importer des donnÃ©es**
3. SÃ©lectionne le fichier `workspace/output/xxx-final.json`

### MÃ©thode 2 : Copie directe
1. Ouvre `workspace/output/xxx-final.json`
2. Copie le contenu de `fiche` dans `src/data/initialFiches.json`
3. Copie le contenu de `questions` dans `src/data/initialQuestions.json`

## Le concept de "Divulgation Progressive"

Le systÃ¨me utilise la **divulgation progressive** pour optimiser le contexte :

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MAUVAISE APPROCHE âŒ                         â”‚
â”‚                                                                 â”‚
â”‚  Charger TOUS les agents au dÃ©marrage                          â”‚
â”‚  â†’ Contexte saturÃ©                                             â”‚
â”‚  â†’ Performances dÃ©gradÃ©es                                      â”‚
â”‚  â†’ Confusion possible                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BONNE APPROCHE âœ…                            â”‚
â”‚                                                                 â”‚
â”‚  1. Charger instructions.md (lÃ©ger, ~100 lignes)               â”‚
â”‚  2. Identifier l'agent nÃ©cessaire                              â”‚
â”‚  3. Charger UNIQUEMENT cet agent                               â”‚
â”‚  4. ExÃ©cuter                                                   â”‚
â”‚  5. DÃ©charger, passer au suivant                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## VÃ©rification des images

L'agent Curateur utilise `curl` pour vÃ©rifier que chaque image est accessible :

```bash
# Ce que fait l'agent automatiquement :
curl -I -s -o /dev/null -w "%{http_code}" "https://upload.wikimedia.org/..."

# RÃ©sultats possibles :
# 200 â†’ âœ… Image OK
# 301/302 â†’ Suivre redirection
# 404 â†’ âŒ Image morte, chercher alternative
# 403 â†’ âŒ AccÃ¨s interdit, chercher alternative
```

**Pourquoi c'est important ?**
- Les URLs Wikimedia changent parfois
- Certaines images sont supprimÃ©es
- L'app affiche des images cassÃ©es sinon

## CrÃ©er un nouvel agent

Tu veux un agent pour crÃ©er des posts Instagram ? Facile !

```bash
# Demande Ã  Claude Code :
"CrÃ©e un nouvel agent instagram-post qui gÃ©nÃ¨re des posts Ã  partir des fiches"
```

Claude va automatiquement :
1. CrÃ©er `.claude/agents/instagram-post.md`
2. Mettre Ã  jour `.claude/instructions.md`
3. CrÃ©er `.claude/commands/instagram.md`

## Exemples de sujets

```bash
# Histoire
/generate La RÃ©volution franÃ§aise
/generate L'Empire romain
/generate La guerre froide

# Sciences
/generate Le systÃ¨me solaire
/generate L'ADN et la gÃ©nÃ©tique
/generate Les trous noirs

# GÃ©ographie
/generate Les volcans
/generate Le fleuve Amazone
/generate Les capitales europÃ©ennes

# Arts
/generate L'impressionnisme
/generate Mozart et la musique classique
/generate Le cinÃ©ma muet

# Å’nologie
/generate Les cÃ©pages de Bourgogne
/generate Le champagne
/generate Les vins du RhÃ´ne
```

## Troubleshooting

### "Les images ne s'affichent pas"
â†’ Relance `/images` pour re-vÃ©rifier les URLs

### "Le pipeline est trop lent"
â†’ Utilise les options `--skip-images` ou `--skip-diagrams`

### "Je veux modifier le contenu gÃ©nÃ©rÃ©"
â†’ Ã‰dite les fichiers dans `workspace/drafts/` puis `/finalize`

### "Claude ne trouve pas les agents"
â†’ VÃ©rifie que tu es dans le dossier du projet CultureMaster

## Comparaison avec la gÃ©nÃ©ration in-app

| CritÃ¨re | In-App (API) | Multi-Agents (Claude Code) |
|---------|--------------|---------------------------|
| Vitesse | ~30s | ~3min |
| Images | Non | Oui, vÃ©rifiÃ©es |
| Diagrammes | Basiques | Riches et variÃ©s |
| Recherche | LimitÃ©e | Web approfondie |
| QualitÃ© | Moyenne | Haute |
| Personnalisation | Faible | Totale |

**Recommandation :**
- **In-App** : Pour des quiz rapides et simples
- **Multi-Agents** : Pour du contenu premium Ã  partager

---

*Documentation du systÃ¨me Multi-Agents CultureMaster v1.0*
